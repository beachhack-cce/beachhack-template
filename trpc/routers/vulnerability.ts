import { createTRPCRouter, protectedProcedure } from "@/trpc/init";
import { Vulnerability } from '@/types/vulnerability';

export const vulnerabilityRouter = createTRPCRouter({
  getAll: protectedProcedure.query(async (): Promise<Vulnerability[]> => {
    const response = await fetch('http://143.110.250.168:8000/get/vulnerabilities');
    if (!response.ok) {
      throw new Error('Failed to fetch vulnerabilities');
    }
    return response.json();
  }),
});
